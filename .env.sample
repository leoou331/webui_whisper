# Whisper WebUI 环境变量配置示例
# 复制此文件为 .env 并修改相应的值

# =============================================================================
# 基本配置
# =============================================================================

# Whisper WebUI 服务地址
# 部署后通过 kubectl get svc -n whisper-app 获取
export WHISPER_API_URL="http://your-load-balancer-url"

# 用户认证信息 (在 AWS Secrets Manager 中配置)
export WHISPER_USERNAME="admin"
export WHISPER_PASSWORD="password123"

# 要转录的音频文件路径 (支持 MP3 和 M4A 格式)
export WHISPER_AUDIO_FILE="/path/to/your/audiofile.mp3"

# =============================================================================
# 热词功能配置 (可选)
# =============================================================================

# 热词列表，用逗号分隔
# 示例：专业术语、人名、地名等需要重点识别的词汇
export WHISPER_HOTWORDS="专业术语,人名,地名,公司名称"

# 热词识别方法
# prompt_injection: 通过提示词引导模型识别 (推荐)
# logit_bias: 通过调整输出概率分布提升权重
export WHISPER_HOTWORD_METHOD="prompt_injection"

# =============================================================================
# AWS 配置 (应用部署时使用)
# =============================================================================

# AWS 区域
export AWS_REGION="cn-northwest-1"

# AWS Secrets Manager 密钥名称
export SECRET_NAME="whisper-app-credentials"

# SageMaker 端点名称
export SAGEMAKER_ENDPOINT="your-whisper-endpoint-name"

# ECR 仓库地址 (构建镜像时使用)
export ECR_REPOSITORY="104946057020.dkr.ecr.cn-northwest-1.amazonaws.com.cn/whisper-webui"

# =============================================================================
# 开发和测试配置
# =============================================================================

# 本地开发服务器地址
export WHISPER_API_URL_LOCAL="http://localhost:8080"

# 测试音频文件
export WHISPER_TEST_AUDIO_FILE="mandarin.mp3"

# 日志级别 (DEBUG, INFO, WARNING, ERROR)
export LOG_LEVEL="INFO"

# =============================================================================
# 使用示例
# =============================================================================

# 1. 基本使用
# source .env
# python demo_client_final.py

# 2. 使用热词功能
# export WHISPER_HOTWORDS="海关,贸易,航空,运输"
# python demo_client_final.py

# 3. 测试不同的热词方法
# export WHISPER_HOTWORD_METHOD="logit_bias"
# python demo_client_final.py

# =============================================================================
# 性能优化建议
# =============================================================================

# 对于大文件转录，建议设置较长的超时时间
# 在客户端代码中可以调整 timeout 参数

# 对于频繁使用，建议配置会话保持
# 避免重复登录以提高效率

# =============================================================================
# 安全注意事项
# =============================================================================

# 1. 不要将此文件提交到版本控制系统
# 2. 定期更换密码
# 3. 使用强密码
# 4. 限制访问权限到必要的IP地址
# 5. 定期审查访问日志
